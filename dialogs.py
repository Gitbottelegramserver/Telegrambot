from aiogram import Router, F, types
from aiogram.types import Message
from aiogram.fsm.context import FSMContext
from aiogram.fsm.state import State, StatesGroup

router = Router()

# –°—Ç–µ–π—Ç –¥–ª—è –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ –º–æ–¥—É–ª—è–º
class LearningFlow(StatesGroup):
    choosing_module = State()

# –°—Ç–∞—Ä—Ç –∑–∞–ø—Ä–æ—Å–∞
@router.message(F.text.lower() == "üéì –æ–±—É—á–µ–Ω–∏–µ" or F.text.lower() == "–º–æ–¥—É–ª–∏")
async def show_modules(message: Message, state: FSMContext):
    await state.set_state(LearningFlow.choosing_module)
    await message.answer(
        "–í—ã–±–µ—Ä–∏—Ç–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏–π –º–æ–¥—É–ª—å:
"
        "1. –í–≤–æ–¥–Ω—ã–π –º–æ–¥—É–ª—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
"
        "2. –ê—Ä–±–∏—Ç—Ä–∞–∂
"
        "3. –°–∫–∞–ª—å–ø-—Ç—Ä–µ–π–¥–∏–Ω–≥
"
        "4. Smart Money
"
        "5. –í–æ–ª–Ω–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑
"
        "6. DeFi
"
        "7. –ü—Ä–æ–ø —Ç—Ä–µ–π–¥–∏–Ω–≥

"
        "–ù–∞–ø–∏—à–∏ –Ω–æ–º–µ—Ä –º–æ–¥—É–ª—è, —á—Ç–æ–±—ã —É–∑–Ω–∞—Ç—å –ø–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏."
    )

# –û—Ç–≤–µ—Ç—ã –ø–æ –º–æ–¥—É–ª—è–º
@router.message(LearningFlow.choosing_module)
async def handle_module_info(message: Message, state: FSMContext):
    module_number = message.text.strip()
    descriptions = {
        "1": "üìò –ú–æ–¥—É–ª—å 1: –í–≤–æ–¥–Ω—ã–π –º–æ–¥—É–ª—å –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

"
             "‚Äî –û—Å–Ω–æ–≤—ã –∫—Ä–∏–ø—Ç–æ—Ä—ã–Ω–∫–∞ –∏ –±–ª–æ–∫—á–µ–π–Ω–∞, –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –æ–±–º–µ–Ω–∞ –∞–∫—Ç–∏–≤–æ–≤, –≥–æ—Ä—è—á–∏–µ –∏ —Ö–æ–ª–æ–¥–Ω—ã–µ –∫–æ—à–µ–ª—å–∫–∏, MetaMask, TrustWallet, CoinGecko, CoinMarketCap –∏ –º–Ω–æ–≥–æ–µ –¥—Ä—É–≥–æ–µ.",
        "2": "üìò –ú–æ–¥—É–ª—å 2: –ê—Ä–±–∏—Ç—Ä–∞–∂

"
             "‚Äî –ß—Ç–æ —Ç–∞–∫–æ–µ –∞—Ä–±–∏—Ç—Ä–∞–∂, —Å—Ç—Ä–∞—Ö–∏ –∏ –æ—à–∏–±–∫–∏, —Ç–µ—Ä–º–∏–Ω—ã, –±–∏—Ä–∂–∏, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ —Å—Ö–µ–º—ã, –ø–æ—à–∞–≥–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ —Å Bybit, –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏—è –≤ —Å—Ç–∞–∫–∞–Ω–µ –∏ –≤–µ–¥–µ–Ω–∏–µ –æ—Ç—á—ë—Ç–Ω–æ—Å—Ç–∏.",
        "3": "üìò –ú–æ–¥—É–ª—å 3: –°–∫–∞–ª—å–ø-—Ç—Ä–µ–π–¥–∏–Ω–≥

"
             "‚Äî –§–∏–≥—É—Ä–∞ —Ç—Ä–µ—É–≥–æ–ª—å–Ω–∏–∫, —Å–≤–µ—á–Ω–æ–π –∞–Ω–∞–ª–∏–∑, CScalp, —Ç–æ—Ä–≥–æ–≤–ª—è –Ω–∞ –æ–±—ä—ë–º–∞—Ö –∏ –∫–ª–∞—Å—Ç–µ—Ä–∞—Ö, –¥–Ω–µ–≤–Ω—ã–µ —Å–µ—Ç–∞–ø—ã, —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã, —Ç–∏–ª—å—Ç –∏ –ø—Å–∏—Ö–æ–ª–æ–≥–∏—è —Ç—Ä–µ–π–¥–µ—Ä–∞.",
        "4": "üìò –ú–æ–¥—É–ª—å 4: Smart Money

"
             "‚Äî –ö–∞–∫ –¥–µ–π—Å—Ç–≤—É—é—Ç –∫—Ä—É–ø–Ω—ã–µ –∏–≥—Ä–æ–∫–∏, SMC –ø–∞—Ç—Ç–µ—Ä–Ω—ã, –ø–æ–≤–µ–¥–µ–Ω–∏–µ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∞–Ω–∞–ª–∏–∑ –∫—Ä—É–ø–Ω—ã—Ö –æ–±—ä—ë–º–æ–≤, 4 –æ–±—É—á–∞—é—â–∏—Ö –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ –ø–æ Smart Money.",
        "5": "üìò –ú–æ–¥—É–ª—å 5: –í–æ–ª–Ω–æ–≤–æ–π –∞–Ω–∞–ª–∏–∑

"
             "‚Äî –ü–æ–ª–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ –ø–æ –≤–æ–ª–Ω–æ–≤–æ–π —Ç–µ–æ—Ä–∏–∏, –∏–º–ø—É–ª—å—Å—ã –∏ –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏, —Ä–∞–±–æ—Ç–∞ —Å Fibonacci, —Ç–µ—Ä–º–∏–Ω–∞–ª—ã –¥–ª—è —Ç—Ä–µ–π–¥–∏–Ω–≥–∞, –¥–Ω–µ–≤–Ω—ã–µ –∏ –∂–∏–≤—ã–µ —Å–µ—Å—Å–∏–∏.",
        "6": "üìò –ú–æ–¥—É–ª—å 6: DeFi

"
             "‚Äî –§–ª–∏–ø —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏, –æ–Ω—á–µ–π–Ω –∞–Ω–∞–ª–∏–∑, —Ç–æ—Ä–≥–æ–≤–ª—è —Ç–æ–∫–µ–Ω–∞–º–∏, —Ñ–∞—Ä–º–∏–Ω–≥ –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç–∏, –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–∫–∞–º–æ–≤, Solana –∏ Ethereum, –æ–±–æ–∑—Ä–µ–≤–∞—Ç–µ–ª–∏ –±–ª–æ–∫—á–µ–π–Ω–∞.",
        "7": "üìò –ú–æ–¥—É–ª—å 7: –ü—Ä–æ–ø —Ç—Ä–µ–π–¥–∏–Ω–≥

"
             "‚Äî –ü–æ–ª–Ω—ã–π –∫—É—Ä—Å funded —Ç—Ä–µ–π–¥–∏–Ω–≥–∞: HFT, LFT, –ª–∏–∫–≤–∏–¥–Ω–æ—Å—Ç—å, Range, –∂–∏–≤—ã–µ –±—ç–∫—Ç–µ—Å—Ç—ã, —Ç–µ–æ—Ä–∏—è + –ø—Ä–∞–∫—Ç–∏–∫–∞, –∫–∞–∫ –ø—Ä–æ–π—Ç–∏ –≤ –ø—Ä–æ–ø-—Ñ–∏—Ä–º—É –∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å."
    }

    answer = descriptions.get(module_number, "–í–≤–µ–¥–∏—Ç–µ –Ω–æ–º–µ—Ä –º–æ–¥—É–ª—è –æ—Ç 1 –¥–æ 7 –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–ø–∏—Å–∞–Ω–∏—è.")
    await message.answer(answer)
